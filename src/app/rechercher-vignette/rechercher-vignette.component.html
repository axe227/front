<h2>Recherche de Vignette</h2>
<div>
  <label for="immatriculation">Immatriculation :</label>
  <input
    type="text"
    id="immatriculation"
    [(ngModel)]="immatriculation"
    placeholder="Entrez l'immatriculation"
  />
  <button (click)="search()">Rechercher</button>
</div>

<h2> Coordonn√©es de la vignette </h2>
<label for="">Comme suit : </label>
<div class="input"></div>
<div class="table-container" *ngIf="vignettes.length > 0">
  <table>
    <thead>
      <tr>
        <th>Nom & Pr√©nom</th>
        <th>Immatriculation</th>
        <th>Num√©ro Quittance</th>
        <th>Date Vente</th>
        <th>Montant</th>
        <th>S√©rie</th>
        <th>Date Expiration</th>
        <th>Taxe</th>
        <th>Actions</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let v of vignettes">
        <td>{{ v.nom_prenom }}</td>
        <td>{{ v.immatriculation }}</td>
        <td>{{ v.numero_quittance }}</td>
        <td>{{ v.date_vente }}</td>
        <td>{{ v.montant }}</td>
        <td>{{ v.serie }}</td>
        <td>{{ v.date_expiration }}</td>
        <td>{{ v.taxe }}</td>
        <td>
          <i class="fas fa-edit" title="Modifier" (click)="editVignette(v)"></i>
          <i class="fas fa-trash" title="Supprimer" (click)="deleteVignette(v)"></i>
        </td>
      </tr>
    </tbody>
  </table>
</div>
<div *ngIf="vignettes.length === 0 && immatriculation">
  <p>Aucune vignette trouv√©e pour l'immatriculation "{{ immatriculation }}".</p>
</div>
<!-- üîΩ Formulaire de cr√©ation -->
<link
  rel="stylesheet"
  href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css"
/>

<div class="form-container" *ngIf="showCreateForm">
  <h3>‚ûï Cr√©er une Vignette</h3>
  <form (ngSubmit)="createVignette()" #vignetteForm="ngForm">
    <div class="form-group">
      <label for="nom_prenom">Nom & Pr√©nom</label>
      <div class="input-icon">
        <i class="fa fa-user"></i>
        <input
          type="text"
          id="nom_prenom"
          name="nom_prenom"
          placeholder="Nom & Pr√©nom"
          [(ngModel)]="newVignette.nom_prenom"
          required
        />
      </div>
    </div>

    <div class="form-group">
      <label for="immatriculation">Immatriculation</label>
      <div class="input-icon">
        <i class="fa fa-car"></i>
        <input
          type="text"
          id="immatriculation"
          name="immatriculation"
          placeholder="Immatriculation"
          [(ngModel)]="newVignette.immatriculation"
          required
        />
      </div>
    </div>

    <div class="form-group">
      <label for="numero_quittance">Num√©ro Quittance</label>
      <div class="input-icon">
        <i class="fa fa-file-invoice"></i>
        <input
          type="text"
          id="numero_quittance"
          name="numero_quittance"
          placeholder="Num√©ro Quittance"
          [(ngModel)]="newVignette.numero_quittance"
          required
        />
      </div>
    </div>

    <div class="form-group">
      <label for="date_vente">Date Vente</label>
      <div class="input-icon">
        <i class="fa fa-calendar-alt"></i>
        <input
          type="date"
          id="date_vente"
          name="date_vente"
          [(ngModel)]="newVignette.date_vente"
          required
        />
      </div>
    </div>

    <div class="form-group">
      <label for="montant">Montant</label>
      <div class="input-icon">
        <i class="fa fa-euro-sign"></i>
        <input
          type="number"
          id="montant"
          name="montant"
          placeholder="Montant"
          [(ngModel)]="newVignette.montant"
          required
        />
      </div>
    </div>

    <div class="form-group">
      <label for="serie">S√©rie</label>
      <div class="input-icon">
        <i class="fa fa-tag"></i>
        <input
          type="text"
          id="serie"
          name="serie"
          placeholder="S√©rie"
          [(ngModel)]="newVignette.serie"
          required
        />
      </div>
    </div>

    <div class="form-group">
      <label for="date_expiration">Date Expiration</label>
      <div class="input-icon">
        <i class="fa fa-calendar-times"></i>
        <input
          type="date"
          id="date_expiration"
          name="date_expiration"
          [(ngModel)]="newVignette.date_expiration"
          required
        />
      </div>
    </div>

    <div class="form-group">
      <label for="taxe">Taxe</label>
      <div class="input-icon">
        <i class="fa fa-money-bill-wave"></i>
        <input
          type="number"
          id="taxe"
          name="taxe"
          placeholder="Taxe"
          [(ngModel)]="newVignette.taxe"
          required
        />
      </div>
    </div>

    <button type="submit" [disabled]="vignetteForm.invalid">
      <i class="fa fa-save"></i> ‚úÖ Enregistrer
    </button>
    <button type="button" (click)="closeCreateForm()">
      <i class="fa fa-times"></i> ‚ùå Annuler
    </button>
  </form>
</div>
